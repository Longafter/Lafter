{% extends "blog/base.html" %}
{% load static %}

{% block head_title %}
    首页
{% endblock %}

{% block base_content %}
<div class="container">
    <div class="row">
        <div class="col-lg-8">
            <div id="carouselExampleIndicators" class="carousel slide" data-ride="carousel">
                <ol class="carousel-indicators">
                    <li data-target="#carouselExampleIndicators" data-slide-to="0" class="active"></li>
                    <li data-target="#carouselExampleIndicators" data-slide-to="1"></li>
                    <li data-target="#carouselExampleIndicators" data-slide-to="2"></li>
                    <li data-target="#carouselExampleIndicators" data-slide-to="3"></li>
                </ol>
                <div class="carousel-inner">
                    <div class="carousel-item active">
                        <a href="/article/docker-rebuild/">
                            <img class="w-100" src="{% static 'blog/img/docker.jpg' %}" alt="容器化部署博客（3）—— 5分钟完成项目迁移">
                        </a>
                    </div>
                    <div class="carousel-item">
                        <a href="/article/set-up-django-with-nginx-and-gunicorn/">
                            <img class="w-100" src="{% static 'blog/img/docker.jpg' %}" alt="在 Linux 服务器上使用 Nginx + Gunicorn 部署 Django 项目的正确姿势">
                        </a>
                    </div>
                    <div class="carousel-item">
                        <a href="/article/virtualenv-for-python/">
                            <img class="w-100" src="{% static 'blog/img/docker.jpg' %}" alt="Python虚拟环境Virtualenv分别在Windows和Linux上的安装和使用">
                        </a>
                    </div>
                    <div class="carousel-item">
                        <a href="/article/jiandan-meizi-spider/">
                            <img class="w-100" src="{% static 'blog/img/docker.jpg' %}" alt="煎蛋网妹子图爬虫">
                        </a>
                    </div>
                    <div>
                        <a class="carousel-control-prev" href="#carouselExampleIndicators" role="button" data-slide="prev">
                            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                            <span class="sr-only">Previous</span>
                        </a>
                        <a class="carousel-control-next" href="#carouselExampleIndicators" role="button" data-slide="next">
                            <span class="carousel-control-next-icon" aria-hidden="true"></span>
                            <span class="sr-only">Next</span>
                        </a>
                    </div>
                </div>
            </div>

            <div class="text-secondary font-weight-bold py-2 f-15 choice">
                <a class="pb-2 {% if request.path == base_index %}active{% endif %}" href="{{ base_index }}">
                    <i class="fa fa-bars mr-1"></i>时间排序</a>
                <a class="pb-2 ml-4 {% if request.path == hot_index %}active{% endif %}" href="{{ hot_index }}">
                    <i class="fa fa-fire mr-1"></i>热度排序</a>
            </div>
            <div class="summary-list">
                {% for article in article_list %}
                <div class="media mb-1 mb-sm-2 p-2 p-lg-3">
                    <div class="align-self-center mr-2 mr-lg-3 w-25 modal-open">
                        <a href="{{ article.get_absolute_url }}" target="_blank">
                            <img class="w-100 article-img" src="{{ article.img_link }}" alt="{{ article.title }}">
                        </a>
                    </div>
                    <div class="media-body">
                        <div class="text-muted mb-2 f-12">
                            
                            <span>{{ article.author }}</span>
                            <span><i class="fa fa-calendar-times-o ml-2 mr-1"></i>{{ article.create_date }}</span>
                        </div>
                        <h2 class="mt-0 font-weight-bold text-info f-17">
                            <a href="{{ article.get_absolute_url }}" target="_blank">{{ article.title}}</a>
                        </h2>
                        <p class="d-none d-sm-block mb-2 f-15">{{ article.summary|truncatechars:130 }}</p>
                        <p class="d-block d-sm-none mb-2 f-15">{{ article.summary|truncatechars:64 }}</p>
                        <div class="text-muted mb-0 f-12">
                            <a class="cate" href="{{ article.category.get_absolute_url }}" title="查看当前分类下更多文章">
                                <i class="fa fa-book mr-1"></i>{{ article.category }}</a>
                            <span><i class="fa fa-eye ml-2 mr-1"></i>{{ article.views }}</span>
                            <a href="{{ article.get_absolute_url }}#comment-block" target="_blank" title="查看文章评论">
                                <i class="fa fa-comments ml-2 mr-1"></i></a>
                        </div>
                    </div>
                </div>
                {% empty %}
                <div class="p-3 mt-3 bg-white"><p>暂时没有文章!</p></div>
                {% endfor %}
            </div>
            
        </div>
        <div class="col-lg-4">
            <div class="card border-0 rounded-0 px-3 mb-2 mb-md-3 d-none d-lg-block" id="home-card">
                <div class="card-header bg-white px-0">
                    <strong><i class="fa fa-paper-plane mr-2 f-17"></i>个人空间</strong>
                </div>
                <div class="card-body px-0 pt-3 pb-1">
                    <div class="row text-center">
                        <div class="col">
                            <a href="https://github.com/Longafter" target="_blank" title="进入博主的Github查看博客源码">
                                <img style="max-width:40px" alt="博主的github" src="{% static 'blog/img/github.png' %}">
                                <p class="mt-2">Github</p>
                            </a>
                        </div>
                        <div class="col">
                            <a href="" target="_blank" title="查看网站建站历程">
                                <img style="max-width:40px" alt="网站的建站历程" src="{% static 'blog/img/blog.png' %}">
                                <p class="mt-2">Timeline</p>
                            </a>
                        </div>
                        <div class="col">
                            <a href="" target="_blank" title="订阅博客">
                                <img style="max-width:40px" alt="订阅博客RSS" src="{% static 'blog/img/rss.png' %}">
                                <p class="mt-2">RSS订阅</p>
                            </a>
                        </div>
                    </div>
                </div>
            </div>
            <!--文章分类-->
            <div class="card border-0 rounded-0 px-3 mb-2 mb-md-3" id="category-card">
                <div class="card-header bg-white px-0">
                    <strong><i class="fa fa-book mr-2 f-17"></i>文章分类</strong>
                </div>
                <ul class="list-group list-group-flush f-16">
                    <li class="list-group-item d-flex justify-content-between align-items-center pr-2 py-2">
                        <a class="category-item" href="{{ each.get_absolute_url }}"
                           title="查看【{{ each.name }}】分类下所有文章"></a>
                        <span class="badge text-center" title="当前分类下有{{ each.total_num }}篇文章"></span>
                    </li>
                </ul>
            </div>
            <!--标签云-->
            <div class="card border-0 rounded-0 px-3 mb-2 mb-md-3" id="tag-card">
                <div class="card-header bg-white px-0">
                    <strong><i class="fa fa-tags mr-2 f-17"></i>标&nbsp;签&nbsp;云</strong>
                </div>
                <div class="card-body px-0 py-3">
                    <div class="tag-cloud">
                        <a href="{{ tag.get_absolute_url }}" class="tags f-16" id="tag-{{ forloop.counter }}"
                           title="【{{ tag.name }}】标签下有{{ tag.total_num }}篇文章"></a>
                    </div>
                </div>
            </div>
            <!--友链-->
            <div class="d-none d-lg-block">
                <div class="card border-0 rounded-0 px-3 mb-2 mb-md-3" id="friends-card">
                    <div class="card-header bg-white px-0">
                        <strong><i class="fa fa-link mr-2 f-17"></i>友情链接</strong>
                    </div>
                    <div class="card-body px-0 py-3">
                        <div class="tool-list">
                            <div class="w-50 float-left text-center mb-2">
                                <div class="mx-2">
                                    <a href="{{ friend.link }}" title="{{ friend.description }}" target="_blank">
                                        </a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}
